!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.GeneralStore=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module){var StoreDefinition=_dereq_(9),GeneralStore={define:function(){return new StoreDefinition},DispatcherInstance:_dereq_(2),StoreDependencyMixin:_dereq_(7)};module.exports=GeneralStore},{}],2:[function(_dereq_,module){var instance=(_dereq_(5),_dereq_(6),null),DispatcherInstance={get:function(){return instance},set:function(n){instance=n}};module.exports=DispatcherInstance},{}],3:[function(_dereq_,module){function Event(){"use strict";this.$Event_handlers={}}var EventHandler=_dereq_(4),uniqueID=_dereq_(12);Event.prototype.addHandler=function(e){"use strict";var t=uniqueID();return this.$Event_handlers[t]=e,new EventHandler(this,t)},Event.prototype.remove=function(){"use strict";return this.$Event_handlers={},this},Event.prototype.removeHandler=function(e){"use strict";return delete this.$Event_handlers[e],this},Event.prototype.$Event_runHandler=function(e){"use strict";this.$Event_handlers.hasOwnProperty(e)&&this.$Event_handlers[e].call()},Event.prototype.runHandlers=function(){"use strict";return Object.keys(this.$Event_handlers).forEach(this.$Event_runHandler.bind(this)),this},Event.runMultiple=function(e){e.forEach(function(e){return e.runHandlers()})},module.exports=Event},{}],4:[function(_dereq_,module){function EventHandler(e,n){"use strict";this.$EventHandler_key=n,this.$EventHandler_instance=e}EventHandler.prototype.remove=function(){"use strict";null!==this.$EventHandler_instance&&void 0!==this.$EventHandler_instance&&(this.$EventHandler_instance.removeHandler(this.$EventHandler_key),this.$EventHandler_instance=null)},module.exports=EventHandler},{}],5:[function(_dereq_,module){var invariant=_dereq_(6),DISPATCHER_HINT_LINK="Learn more about the dispatcher interface: https://github.com/HubSpot/general-store#dispatcher-interface",Hints={enforceDispatcherInterface:function(t,e){invariant("object"==typeof e&&"function"==typeof e.register&&"function"==typeof e.unregister,'%s: Expected dispatcher to be an object with a register method, and an unregister method but got "%s". %s',t,e,DISPATCHER_HINT_LINK)},enforceDispatcherPayloadInterface:function(t){invariant("object"==typeof t&&"string"==typeof t.actionType&&t.hasOwnProperty("data"),'Dispatcher.dispatch: expected payload to be an object with a property "actionType" containing a string and a property "data" containing any value but got "%s" instead. %s',t,DISPATCHER_HINT_LINK)}};module.exports=Hints},{}],6:[function(_dereq_,module){"use strict";var invariant=function(n,r,e,i,o,a,t,d){if(!n){var f;if(void 0===r)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[e,i,o,a,t,d],s=0;f=new Error("Invariant Violation: "+r.replace(/%s/g,function(){return l[s++]}))}throw f}};module.exports=invariant},{}],7:[function(_dereq_,module){function havePropsChanged(e,t){return Object.keys(t).some(function(n){return e[n]!==t[n]})}function hasStateChanged(e,t,n){return Object.keys(n).some(function(r){return!e.hasOwnProperty(r)&&t[r]!==n[r]})}function storeChangeCallback(e,t,n){e.setState(t.getStateField(n,e.props,e.state||{}))}function StoreDependencyMixin(e){var t=new StoreDependencyDefinition(e),n=Object.keys(e).some(function(t){return e[t].deref});return{componentWillMount:function(){var e,n,r,o=t.getStores();this._storeDependencyHandlers=[];for(n in o)for(r=o[n],e=0;e<r.length;e++)this._storeDependencyHandlers.push(r[e].addOnChange(storeChangeCallback.bind(null,this,t,n)))},componentWillUnmount:function(){for(var e=this._storeDependencyHandlers;e.length;)e.pop().remove()},componentWillUpdate:function(e,r){n&&(havePropsChanged(this.props,e)||hasStateChanged(t.getStores(),this.state,r))&&this.setState(t.getState(e,r||{}))},getInitialState:function(){return t.getState(this.props,this.state||{})}}}{var StoreDependencyDefinition=(_dereq_(4),_dereq_(10));_dereq_(11)}module.exports=StoreDependencyMixin},{}],8:[function(_dereq_,module){var StoreConstants={DEFAULT_GETTER_KEY:"DEFAULT_GETTER_KEY"};module.exports=StoreConstants},{}],9:[function(_dereq_,module){function emptyGetter(){return null}function StoreDefinition(){"use strict";this.$StoreDefinition_facade=null,this.$StoreDefinition_getter=null,this.$StoreDefinition_responses={}}{var DispatcherInstance=_dereq_(2),StoreFacade=(_dereq_(8),_dereq_(11)),$__0=_dereq_(5);$__0.enforceDispatcherInterface,_dereq_(6)}StoreDefinition.prototype.defineGet=function(e){"use strict";return this.$StoreDefinition_getter=e,this},StoreDefinition.prototype.defineResponseTo=function(e,t){"use strict";return this.$StoreDefinition_responses[e]=t,this},StoreDefinition.prototype.register=function(e){"use strict";var t=this.$StoreDefinition_facade||new StoreFacade(this.$StoreDefinition_getter||emptyGetter,this.$StoreDefinition_responses,e||DispatcherInstance.get());return null===this.$StoreDefinition_facade&&(this.$StoreDefinition_facade=t),t},module.exports=StoreDefinition},{}],10:[function(_dereq_,module){function defaultDeref(e,e,t){return t[0].get()}function extractDeref(e,t){var n=e[t];return n instanceof StoreFacade?defaultDeref:n.deref}function extractStores(e,t){var n=e[t];return n instanceof StoreFacade?[n]:n.stores}function StoreDependencyDefinition(e){"use strict";this.$StoreDependencyDefinition_derefs={},this.$StoreDependencyDefinition_stores={};var t;for(var n in e)t=e[n],this.$StoreDependencyDefinition_derefs[n]=extractDeref(e,n),this.$StoreDependencyDefinition_stores[n]=extractStores(e,n)}var StoreFacade=_dereq_(11);StoreDependencyDefinition.prototype.$StoreDependencyDefinition_derefStore=function(e,t,n){"use strict";return this.$StoreDependencyDefinition_derefs[e](t,n,this.$StoreDependencyDefinition_stores[e])},StoreDependencyDefinition.prototype.getState=function(e,t){"use strict";var n={};for(var r in this.$StoreDependencyDefinition_stores)n[r]=this.$StoreDependencyDefinition_derefStore(r,e,t);return n},StoreDependencyDefinition.prototype.getStateField=function(e,t,n){"use strict";var r={};return r[e]=this.$StoreDependencyDefinition_derefStore(e,t,n),r},StoreDependencyDefinition.prototype.getStores=function(){"use strict";return this.$StoreDependencyDefinition_stores},module.exports=StoreDependencyDefinition},{}],11:[function(_dereq_,module){function getNull(){return null}function StoreFacade(e,t,r){"use strict";this.$StoreFacade_dispatcher=r,this.$StoreFacade_getter=e,this.$StoreFacade_responses=t,this.$StoreFacade_event=new Event,this.$StoreFacade_dispatchToken=this.$StoreFacade_dispatcher.register(this.$StoreFacade_handleDispatch.bind(this))}{var Event=_dereq_(3);_dereq_(4),_dereq_(5),_dereq_(8),_dereq_(6)}StoreFacade.prototype.addOnChange=function(e){"use strict";return this.$StoreFacade_event.addHandler(e)},StoreFacade.prototype.get=function(){"use strict";for(var e=[],t=0,r=arguments.length;r>t;t++)e.push(arguments[t]);return this.$StoreFacade_getter.apply(null,e)},StoreFacade.prototype.getDispatcher=function(){"use strict";return this.$StoreFacade_dispatcher},StoreFacade.prototype.getDispatchToken=function(){"use strict";return this.$StoreFacade_dispatchToken},StoreFacade.prototype.$StoreFacade_handleDispatch=function(e){"use strict";this.$StoreFacade_responses.hasOwnProperty(e.actionType)&&(this.$StoreFacade_responses[e.actionType](e.data,e.actionType),this.triggerChange())},StoreFacade.prototype.remove=function(){"use strict";this.$StoreFacade_dispatcher.unregister(this.getDispatchToken()),this.$StoreFacade_event.remove(),this.$StoreFacade_getter=getNull,this.$StoreFacade_responses={}},StoreFacade.prototype.triggerChange=function(){"use strict";return this.$StoreFacade_event.runHandlers(),this},module.exports=StoreFacade},{}],12:[function(_dereq_,module){function uid(){return nextUid++}var nextUid=0;module.exports=uid},{}]},{},[1])(1)});